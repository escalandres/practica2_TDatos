clc
clear 
close all
%100000101000001101100110111111011101100111010110001000001101100110111111011101100111010000011101001101001110110111001010100000110000111001111101111010111001000001001001010000011000111100001110111001000001110011111010011010011101100110110001000001110010110010111011011100101110110111000101100101111001001000001101000110111111101110100000111010011010001100001111010001000001101101111010111100111101001110001101000001110101111001111001011100100010000011101001101111010000011011011100001110101111001010100000110110111001010100000111001111011011101001110110011001010101110010000000011010001010100000111011101100100010000010010010100000110101111011101100101111011101000001101001110011001000001001001010000011010001100001110010001000001101101111100101000001100011110100011000011101110110001111001010100000111010011010001100001111010001000001001001010000011000111101111111010111011001100100010000011011011100001110101111001010100000111010011010001101111111001111001010100000111000011001011101111111000011011001100101010000011001001100001110111011000111100101010111001000001000001110111011001000100000110110111000011111001110001011001010100000111010011010001100101111100101001111100100010000011000101100101010000011010001100001111000011100001111001010000011001101101111111001001000001100001010000011101111101000110100111011001100101010111001000000001101000101010000101110101111010001000001000110110010111000101110010111010111000011110010111100101000001101101110000111001001100101010000011011011100101010000011100111101000110100111101101100101111001001011100100000101011111010011110100110100001000001100101111011011001011110010111100101000001110000110000111100001100101111001001000001001001010011111001000100000110010011001011101100110100111101101100101111001001011100100000100001011000011100100010000011011101100101111011111100110100000110111111011100100000111010011010001100101010000011001001101111110111111100101110011111010011001011110000010111001000000001101000101010010010100000110001111011111110101110110011001001101110010011111101000100000111010011000011101011110010101000001101111110111011001010100000110110111011111110010110010101000001110011111010011001011110000010111001000001001001010000011000111100001110111001001111110100010000011100101100101110110111001011101101110001011001011110010010000011010011100110010000010010010100000110001111100101101001110010111001000101110010000010101111101000110010111011100100000100100101000001110010110010111000011100100010000011000011100010110111111101011110100010000011010001101001111001101000001110111110100111001001101111111011111001011100100010000011000101110010110100111001001100101010111001000000001101000101010000101110101111010001000001110011110111111011011100101111010011010001101001110111011001110100000111010011011111110101110001111010001100101110010001000001101101110010101000001100100110010111001011110000010000011010011101110111001111010011100100110010101011100100000101010011010001100101010000011001001100001111100101000001110100110100011001010100000110110111101011110011110100111000110100000110010011010011100101110010001011100100000101001111011110100000110001011110011100101010110111000101111001110010101011000100000100110111010011110011111001101000001000001110110111001011110010110100111000111100001110111001000001010000110100111001010101110010000000011010001010100010011100101101111111011011001010100000110110111110010100000100001111010001100101111011011110010100000111010011011110100000111010011010001100101010000011011001100101111011011001011100101010110001000001100010111010111101000100000111010011010001100101010000011011001100101111011011001011100101010000011101111100001111001101000001100100111001011110010101110010000010000011101110110010001000001110100110100011001011101101010000011001111101111110111111001000100000110111111011001100100010000011000101101111111100111100110100000111011111001011110010110010101000001100100111001011010011101110110101111010011101110010011101000001110111110100011010011110011110101111001011111001010000011000011101110110010001000001110010111100111001010101110010000000011010001010101001111010011101110110011111010011101110010011101000000100010101010011010001101001111001101001111101100110110001000001100010110010101000001110100110100011001010100000110010011000011111001010000011101001101000110000111101000100000100100101000001100100110100111001010101110010000010101001101000110100111100110100111110110011011000100000110001011001010100000111010011010001100101010000011001001100001111100101000001110100110100011000011110100010000010010010100000110010011010011100101010001000011010001010
%bitStream = "1101100111011010";
%Jk="0b"+bitStream+"u32";
%Tk=str2num(Jk);
message = 0b100000101000001101100110111111011101100111010110001000001101100u64;
%message = Tk;
messageLength = 16;
divisor = 0b1101u32;
divisorDegree= 3;

divisor = bitshift(divisor,messageLength-divisorDegree-1);
dec2bin(divisor)

divisor = bitshift(divisor,divisorDegree);
remainder = bitshift(message,divisorDegree);
dec2bin(divisor)

dec2bin(remainder)

for k=1:messageLength
	if bitget(remainder,messageLength+divisorDegree)
		remainder = bitxor(remainder,divisor);
	end
	remainder = bitshift(remainder,1);
end

CRC_check_value = bitshift(remainder,-messageLength);
FCS = dec2bin(CRC_check_value);
disp(FCS)